jQuery.webshims.register("dom-extend",function(c,g,n,o,m){var x=g.modules,q=/\s*,\s*/,s={},r={},p={},v={},t={},k=c.fn.val,z=function(a,d,i,b,e){return e?k.call(c(a)):k.call(c(a),i)};c.fn.val=function(a){var d=this[0];arguments.length&&null==a&&(a="");if(!arguments.length)return!d||1!==d.nodeType?k.call(this):c.prop(d,"value",a,"val",!0);if(c.isArray(a))return k.apply(this,arguments);var i=c.isFunction(a);return this.each(function(b){d=this;1===d.nodeType&&(i?(b=a.call(d,b,c.prop(d,"value",m,"val",
!0)),null==b&&(b=""),c.prop(d,"value",b,"val")):c.prop(d,"value",a,"val"))})};var e="_webshimsLib"+Math.round(1E3*Math.random()),b=function(a,d,i){a=a.jquery?a[0]:a;if(!a)return i||{};var b=c.data(a,e);i!==m&&(b||(b=c.data(a,e,{})),d&&(b[d]=i));return d?b&&b[d]:b};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(a){c.fn[a.name]=function(){return this.map(function(){var d=b(this,
"shadowData");return d&&d[a.prop]||this})}});["removeAttr","prop","attr"].forEach(function(a){s[a]=c[a];c[a]=function(d,i,b,e,h){var w="val"==e,u=!w?s[a]:z;if(!d||!r[i]||1!==d.nodeType||!w&&e&&"attr"==a&&c.attrFn[i])return u(d,i,b,e,h);var y=(d.nodeName||"").toLowerCase(),f=p[y],j="attr"==a&&(!1===b||null===b)?"removeAttr":a,g,l,k;f||(f=p["*"]);f&&(f=f[i]);f&&(g=f[j]);if(g){if("value"==i)l=g.isVal,g.isVal=w;if("removeAttr"===j)return g.value.call(d);if(b===m)return g.get?g.get.call(d):g.value;g.set&&
("attr"==a&&!0===b&&(b=i),k=g.set.call(d,b));if("value"==i)g.isVal=l}else k=u(d,i,b,e,h);if((b!==m||"removeAttr"===j)&&t[y]&&t[y][i]){var n;n="removeAttr"==j?!1:"prop"==j?!!b:!0;t[y][i].forEach(function(i){if(!i.only||(i.only="prop"==a)||"attr"==i.only&&"prop"!=a)i.call(d,b,n,w?"val":j,a)})}return k};v[a]=function(d,i,b){p[d]||(p[d]={});p[d][i]||(p[d][i]={});var e=p[d][i][a],f=function(d,c,y){return c&&c[d]?c[d]:y&&y[d]?y[d]:"prop"==a&&"value"==i?function(d){return b.isVal?z(this,i,d,!1,0===arguments.length):
s[a](this,i,d)}:"prop"==a&&"value"==d&&b.value.apply?function(d){var b=s[a](this,i);b&&b.apply&&(b=b.apply(this,arguments));return b}:function(d){return s[a](this,i,d)}};p[d][i][a]=b;if(b.value===m){if(!b.set)b.set=b.writeable?f("set",b,e):g.cfg.useStrict&&"prop"==i?function(){throw i+" is readonly on "+d;}:c.noop;if(!b.get)b.get=f("get",b,e)}["value","get","set"].forEach(function(a){b[a]&&(b["_sup"+a]=f(a,e))})}});var h=!c.browser.msie||8<parseInt(c.browser.version,10),l=function(){var a=g.getPrototypeOf(o.createElement("foobar")),
d=Object.prototype.hasOwnProperty;return function(i,c,e){var j=o.createElement(i),w=g.getPrototypeOf(j);if(h&&w&&a!==w&&(!j[c]||!d.call(j,c))){var u=j[c];e._supvalue=function(){return u&&u.apply?u.apply(this,arguments):u};w[c]=e.value}else e._supvalue=function(){var a=b(this,"propValue");return a&&a[c]&&a[c].apply?a[c].apply(this,arguments):a&&a[c]},f.extendValue(i,c,e.value);e.value._supvalue=e._supvalue}}(),f=function(){var a={};g.addReady(function(d,b){var i={},e=function(a){i[a]||(i[a]=c(d.getElementsByTagName(a)),
b[0]&&c.nodeName(b[0],a)&&(i[a]=i[a].add(b)))};c.each(a,function(a,d){e(a);!d||!d.forEach?g.warn("Error: with "+a+"-property. methods: "+d):d.forEach(function(d){i[a].each(d)})});i=null});var d,i=c([]),e=function(b,i){a[b]?a[b].push(i):a[b]=[i];c.isDOMReady&&(d||c(o.getElementsByTagName(b))).each(i)};return{createTmpCache:function(a){c.isDOMReady&&(d=d||c(o.getElementsByTagName(a)));return d||i},flushTmpCache:function(){d=null},content:function(a,d){e(a,function(){var a=c.attr(this,d);null!=a&&c.attr(this,
d,a)})},createElement:function(a,d){e(a,d)},extendValue:function(a,d,i){e(a,function(){c(this).each(function(){b(this,"propValue",{})[d]=this[d];this[d]=i})})}}}(),j=function(a,d){if(a.defaultValue===m)a.defaultValue="";if(!a.removeAttr)a.removeAttr={value:function(){a[d||"prop"].set.call(this,a.defaultValue);a.removeAttr._supvalue.call(this)}};if(!a.attr)a.attr={}};c.extend(g,{getID:function(){var a=(new Date).getTime();return function(d){var d=c(d),b=d.attr("id");b||(a++,b="ID-"+a,d.attr("id",b));
return b}}(),extendUNDEFProp:function(a,d){c.each(d,function(d,b){d in a||(a[d]=b)})},createPropDefault:j,data:b,moveToFirstEvent:function(){var a=c._data?"_data":"data";return function(d,b,e){if((d=(c[a](d,"events")||{})[b])&&1<d.length)b=d.pop(),e||(e="bind"),"bind"==e&&d.delegateCount?d.splice(d.delegateCount,0,b):d.unshift(b)}}(),addShadowDom:function(){var a,d,i,f,h={init:!1,start:function(){if(!this.init)this.init=!0,this.height=c(o).height(),this.width=c(o).width(),setInterval(function(){var a=
c(o).height(),d=c(o).width();if(a!=h.height||d!=h.width)h.height=a,h.width=d,f({type:"docresize"})},400)}};f=function(b){clearTimeout(a);a=setTimeout(function(){if("resize"==b.type){var a=c(n).width(),e=c(n).width();if(e==d&&a==i)return;d=e;i=a;h.height=c(o).height();h.width=c(o).width()}c.event.trigger("updateshadowdom")},40)};c(n).bind("resize",f);c.event.customEvent.updateshadowdom=!0;return function(a,d,i){i=i||{};a.jquery&&(a=a[0]);d.jquery&&(d=d[0]);var f=c.data(a,e)||c.data(a,e,{}),j=c.data(d,
e)||c.data(d,e,{}),g={};if(i.shadowFocusElement){if(i.shadowFocusElement){if(i.shadowFocusElement.jquery)i.shadowFocusElement=i.shadowFocusElement[0];g=c.data(i.shadowFocusElement,e)||c.data(i.shadowFocusElement,e,g)}}else i.shadowFocusElement=d;f.hasShadow=d;g.nativeElement=j.nativeElement=a;g.shadowData=j.shadowData=f.shadowData={nativeElement:a,shadowElement:d,shadowFocusElement:i.shadowFocusElement};i.shadowChilds&&i.shadowChilds.each(function(){b(this,"shadowData",j.shadowData)});if(i.data)g.shadowData.data=
j.shadowData.data=f.shadowData.data=i.data;i=null;h.start()}}(),propTypes:{standard:function(a){j(a);if(!a.prop)a.prop={set:function(d){a.attr.set.call(this,""+d)},get:function(){return a.attr.get.call(this)||a.defaultValue}}},"boolean":function(a){j(a);if(!a.prop)a.prop={set:function(d){d?a.attr.set.call(this,""):a.removeAttr.value.call(this)},get:function(){return null!=a.attr.get.call(this)}}},src:function(){var a=o.createElement("a");a.style.display="none";return function(d,b){j(d);if(!d.prop)d.prop=
{set:function(a){d.attr.set.call(this,a)},get:function(){var d=this.getAttribute(b),e;if(null==d)return"";a.setAttribute("href",d+"");if(!c.support.hrefNormalized){try{c(a).insertAfter(this),e=a.getAttribute("href",4)}catch(f){e=a.getAttribute("href",4)}c(a).detach()}return e||a.href}}}}(),enumarated:function(a){j(a);if(!a.prop)a.prop={set:function(d){a.attr.set.call(this,d)},get:function(){var d=(a.attr.get.call(this)||"").toLowerCase();if(!d||-1==a.limitedTo.indexOf(d))d=a.defaultValue;return d}}}},
reflectProperties:function(a,d){"string"==typeof d&&(d=d.split(q));d.forEach(function(d){g.defineNodeNamesProperty(a,d,{prop:{set:function(a){c.attr(this,d,a)},get:function(){return c.attr(this,d)||""}}})})},defineNodeNameProperty:function(a,d,b){r[d]=!0;if(b.reflect)g.propTypes[b.propType||"standard"](b,d);["prop","attr","removeAttr"].forEach(function(e){var f=b[e];f&&(f="prop"===e?c.extend({writeable:!0},f):c.extend({},f,{writeable:!0}),v[e](a,d,f),"*"!=a&&g.cfg.extendNative&&"prop"==e&&f.value&&
c.isFunction(f.value)&&l(a,d,f),b[e]=f)});b.initAttr&&f.content(a,d);return b},defineNodeNameProperties:function(a,d,b,e){for(var c in d)!e&&d[c].initAttr&&f.createTmpCache(a),b&&(d[c][b]?g.log("override: "+a+"["+c+"] for "+b):(d[c][b]={},["value","set","get"].forEach(function(a){a in d[c]&&(d[c][b][a]=d[c][a],delete d[c][a])}))),d[c]=g.defineNodeNameProperty(a,c,d[c]);e||f.flushTmpCache();return d},createElement:function(a,d,b){var e;c.isFunction(d)&&(d={after:d});f.createTmpCache(a);d.before&&f.createElement(a,
d.before);b&&(e=g.defineNodeNameProperties(a,b,!1,!0));d.after&&f.createElement(a,d.after);f.flushTmpCache();return e},onNodeNamesPropertyModify:function(a,d,b,e){"string"==typeof a&&(a=a.split(q));c.isFunction(b)&&(b={set:b});a.forEach(function(a){t[a]||(t[a]={});"string"==typeof d&&(d=d.split(q));b.initAttr&&f.createTmpCache(a);d.forEach(function(d){t[a][d]||(t[a][d]=[],r[d]=!0);if(b.set){if(e)b.set.only=e;t[a][d].push(b.set)}b.initAttr&&f.content(a,d)});f.flushTmpCache()})},defineNodeNamesBooleanProperty:function(a,
d,b){b||(b={});if(c.isFunction(b))b.set=b;g.defineNodeNamesProperty(a,d,{attr:{set:function(a){this.setAttribute(d,a);b.set&&b.set.call(this,!0)},get:function(){return null==this.getAttribute(d)?m:d}},removeAttr:{value:function(){this.removeAttribute(d);b.set&&b.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:b.initAttr||!1})},contentAttr:function(a,d,b){if(a.nodeName){if(b===m)return a=a.attributes[d]||{},b=a.specified?a.value:null,null==b?m:b;"boolean"==typeof b?b?a.setAttribute(d,d):
a.removeAttribute(d):a.setAttribute(d,b)}},activeLang:function(){var a=[],b={},e,f,h=/:\/\/|^\.*\//,j=function(a,b,d){return b&&d&&-1!==c.inArray(b,d.availabeLangs||[])?(a.loading=!0,d=d.langSrc,h.test(d)||(d=g.cfg.basePath+d),g.loader.loadScript(d+b+".js",function(){a.langObj[b]?(a.loading=!1,u(a,!0)):c(function(){a.langObj[b]&&u(a,!0);a.loading=!1})}),!0):!1},w=function(a){b[a]&&b[a].forEach(function(a){a.callback()})},u=function(a,b){if(a.activeLang!=e&&a.activeLang!==f){var d=x[a.module].options;
if(a.langObj[e]||f&&a.langObj[f])a.activeLang=e,a.callback(a.langObj[e]||a.langObj[f],e),w(a.module);else if(!b&&!j(a,e,d)&&!j(a,f,d)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],e),w(a.module)}};return function(h){if("string"==typeof h&&h!==e)e=h,f=e.split("-")[0],e==f&&(f=!1),c.each(a,function(a,b){u(b)});else if("object"==typeof h)if(h.register)b[h.register]||(b[h.register]=[]),b[h.register].push(h),h.callback();else{if(!h.activeLang)h.activeLang="";a.push(h);u(h)}return e}}()});
c.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(a,b){g[a]=function(a,e,c,f){"string"==typeof a&&(a=a.split(q));var h={};a.forEach(function(a){h[a]=g[b](a,e,c,f)});return h}});g.isReady("webshimLocalization",!0)});
(function(c,g){var n=c.webshims.browserVersion;if(!(c.browser.mozilla&&5<n)&&(!c.browser.msie||12>n&&7<n)){var o={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},m=function(c,g){c.getAttribute("role")||c.setAttribute("role",g)};c.webshims.addReady(function(n,q){c.each(o,function(g,t){for(var k=c(g,n).add(q.filter(g)),o=0,e=k.length;o<e;o++)m(k[o],t)});if(n===g){var s=g.getElementsByTagName("header")[0],r=g.getElementsByTagName("footer"),p=r.length;
s&&!c(s).closest("section, article")[0]&&m(s,"banner");p&&(s=r[p-1],c(s).closest("section, article")[0]||m(s,"contentinfo"))}})}})(jQuery,document);
(function(c,g,n){var o=g.audio&&g.video,m=!1,x=n.cfg.mediaelement,q=n.bugs,s=function(){n.ready("mediaelement-swf",function(){if(!n.mediaelement.createSWF)n.modules["mediaelement-swf"].test=c.noop,n.reTest(["mediaelement-swf"],o)})},r;if(o){var p=document.createElement("video");g.videoBuffered="buffered"in p;m="loop"in p;n.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));g.videoBuffered||(n.addPolyfill("mediaelement-native-fix",{f:"mediaelement",
test:g.videoBuffered,d:["dom-support"]}),n.reTest("mediaelement-native-fix"))}if(o&&!x.preferFlash){var v=function(g){var k=g.target.parentNode;!x.preferFlash&&(c(g.target).is("audio, video")||k&&c("source:last",k)[0]==g.target)&&n.ready("DOM mediaelement",function(){r&&s();n.ready("WINDOWLOAD mediaelement-swf",function(){setTimeout(function(){r&&!x.preferFlash&&n.mediaelement.createSWF&&!c(g.target).closest("audio, video").is(".nonnative-api-active")?(x.preferFlash=!0,document.removeEventListener("error",
v,!0),c("audio, video").mediaLoad(),n.info("switching mediaelements option to 'preferFlash', due to an error with native player: "+g.target.src)):r||document.removeEventListener("error",v,!0)},20)})})};document.addEventListener("error",v,!0);c("audio, video").each(function(){this.error&&v({target:this})})}q.track=!1;g.track&&function(){if(!q.track)q.track="number"!=typeof c("<track />")[0].readyState;if(!q.track)try{new TextTrackCue(2,3,"")}catch(g){q.track=!0}var k=n.cfg.track,m=function(b){c(b.target).filter("track").each(e)},
e=function(){if(q.track||!k.override&&3==c.prop(this,"readyState"))k.override=!0,n.reTest("track"),document.removeEventListener("error",m,!0),this&&c.nodeName(this,"track")?n.error("track support was overwritten. Please check your vtt including your vtt mime-type"):n.info("track support was overwritten. due to bad browser support")},b=function(){document.addEventListener("error",m,!0);q.track?e():c("track").each(e)};k.override||(n.isReady("track")?b():c(b))}();n.register("mediaelement-core",function(c,
k,n,e,b){r=swfobject.hasFlashPlayerVersion("9.0.115");var h=k.mediaelement,l=function(a,b){var a=c(a),d={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!d.src)return d;var e=a.attr("type");if(e)d.type=e,d.container=c.trim(e.split(";")[0]);else if(b||(b=a[0].nodeName.toLowerCase(),"source"==b&&(b=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),e=h.getTypeForSrc(d.src,b))d.type=e,d.container=e;if(e=a.attr("media"))d.media=e;return d},f=!r&&"postMessage"in n&&o,j=
function(){var a;return function(){!a&&f&&(a=!0,k.loader.loadScript("https://www.youtube.com/player_api"),c(function(){k.polyfill("mediaelement-yt")}))}}(),a=function(){r?s():j()};k.addPolyfill("mediaelement-yt",{test:!f,d:["dom-support"]});h.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv",
"f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};h.mimeTypes.source=c.extend({},h.mimeTypes.audio,h.mimeTypes.video);h.getTypeForSrc=function(a,b){if(-1!=a.indexOf("youtube.com/watch?")||
-1!=a.indexOf("youtube.com/v/"))return"video/youtube";var a=a.split("?")[0].split("."),a=a[a.length-1],d;c.each(h.mimeTypes[b],function(b,c){if(-1!==c.indexOf(a))return d=b,!1});return d};h.srces=function(a,b){a=c(a);if(b)a.removeAttr("src").removeAttr("type").find("source").remove(),c.isArray(b)||(b=[b]),b.forEach(function(b){var d=e.createElement("source");"string"==typeof b&&(b={src:b});d.setAttribute("src",b.src);b.type&&d.setAttribute("type",b.type);b.media&&d.setAttribute("media",b.media);a.append(d)});
else{var b=[],d=a[0].nodeName.toLowerCase(),f=l(a,d);f.src?b.push(f):c("source",a).each(function(){f=l(this,d);f.src&&b.push(f)});return b}};c.fn.loadMediaSrc=function(a,d){return this.each(function(){d!==b&&(c(this).removeAttr("poster"),d&&c.attr(this,"poster",d));h.srces(this,a);c(this).mediaLoad()})};h.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
h.canThirdPlaySrces=function(a,b){var d="";if(r||f)a=c(a),b=b||h.srces(a),c.each(b,function(a,b){if(b.container&&b.src&&(r&&-1!=h.swfMimeTypes.indexOf(b.container)||f&&"video/youtube"==b.container))return d=b,!1});return d};var d={};h.canNativePlaySrces=function(a,b){var e="";if(o){var a=c(a),f=(a[0].nodeName||"").toLowerCase();if(!d[f])return e;b=b||h.srces(a);c.each(b,function(b,c){if(c.type&&d[f].prop._supvalue.call(a[0],c.type))return e=c,!1})}return e};h.setError=function(a,b){b||(b="can't play sources");
c(a).pause().data("mediaerror",b);k.warn("mediaelementError: "+b);setTimeout(function(){c(a).data("mediaerror")&&c(a).trigger("mediaerror")},1)};var i=function(){var b;return function(d,c,e){k.ready(r?"mediaelement-swf":"mediaelement-yt",function(){h.createSWF?h.createSWF(d,c,e):b||(b=!0,a(),i(d,c,e))});!b&&f&&!h.createSWF&&j()}}(),p=function(a,b,d,c,e){d||!1!==d&&b&&"third"==b.isActive?(d=h.canThirdPlaySrces(a,c))?i(a,d,b):e?h.setError(a,!1):p(a,b,!1,c,!0):(d=h.canNativePlaySrces(a,c))?b&&"third"==
b.isActive&&h.setActive(a,"html5",b):e?(h.setError(a,!1),b&&"third"==b.isActive&&h.setActive(a,"html5",b)):p(a,b,!0,c,!0)},v=/^(?:embed|object|datalist)$/i,A=function(a,d){var e=k.data(a,"mediaelementBase")||k.data(a,"mediaelementBase",{}),f=h.srces(a),g=a.parentNode;clearTimeout(e.loadTimer);c.data(a,"mediaerror",!1);if(f.length&&g&&!(1!=g.nodeType||v.test(g.nodeName||"")))d=d||k.data(a,"mediaelement"),p(a,d,x.preferFlash||b,f)};c(e).bind("ended",function(a){var b=k.data(a.target,"mediaelement");
(!m||b&&"html5"!=b.isActive||c.prop(a.target,"loop"))&&setTimeout(function(){!c.prop(a.target,"paused")&&c.prop(a.target,"loop")&&c(a.target).prop("currentTime",0).play()},1)});m||k.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var b=k.defineNodeNameProperty(a,"load",{prop:{value:function(){var a=k.data(this,"mediaelement");A(this,a);o&&(!a||"html5"==a.isActive)&&b.prop._supvalue&&b.prop._supvalue.apply(this,arguments)}}});d[a]=k.defineNodeNameProperty(a,
"canPlayType",{prop:{value:function(b){var e="";o&&d[a].prop._supvalue&&(e=d[a].prop._supvalue.call(this,b),"no"==e&&(e=""));!e&&r&&(b=c.trim((b||"").split(";")[0]),-1!=h.swfMimeTypes.indexOf(b)&&(e="maybe"));return e}}})});k.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,b=k.data(a,"mediaelementBase")||k.data(a,"mediaelementBase",{});clearTimeout(b.loadTimer);b.loadTimer=setTimeout(function(){A(a);a=null},9)}});n=function(){k.addReady(function(a,b){c("video, audio",
a).add(b.filter("video, audio")).each(function(){c.browser.msie&&8<k.browserVersion&&c.prop(this,"paused")&&!c.prop(this,"readyState")&&c(this).is('audio[preload="none"][controls]:not([autoplay])')?c(this).prop("preload","metadata").mediaLoad():A(this);if(o){var a,b,d=this,e=function(){var a=c.prop(d,"buffered");if(a){for(var b="",e=0,f=a.length;e<f;e++)b+=a.end(e);return b}},f=function(){var a=e();a!=b&&(b=a,c(d).triggerHandler("progress"))};c(this).bind("play loadstart progress",function(d){"progress"==
d.type&&(b=e());clearTimeout(a);a=setTimeout(f,999)}).bind("emptied stalled mediaerror abort suspend",function(d){"emptied"==d.type&&(b=!1);clearTimeout(a)})}})})};g.track&&!q.track&&k.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}});o?(k.isReady("mediaelement-core",!0),n(),k.ready("WINDOWLOAD mediaelement",a)):k.ready("mediaelement-swf",n);c(function(){k.loader.loadList(["track-ui"])})})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("track",function(c,g,n,o){var m=g.mediaelement;(new Date).getTime();var x={subtitles:1,captions:1},q=function(c){var b={};c.addEventListener=function(c,e){b[c]&&g.error("always use $.bind to the shimed event: "+c+" already bound fn was: "+b[c]+" your fn was: "+e);b[c]=e};c.removeEventListener=function(c,e){b[c]&&b[c]!=e&&g.error("always use $.bind/$.unbind to the shimed event: "+c+" already bound fn was: "+b[c]+" your fn was: "+e);b[c]&&delete b[c]};return c},s={getCueById:function(c){for(var b=
null,g=0,l=this.length;g<l;g++)if(this[g].id===c){b=this[g];break}return b}},r={shimActiveCues:null,_shimActiveCues:null,activeCues:null,cues:null,kind:"subtitles",label:"",language:"",mode:"disabled",readyState:0,oncuechange:null,toString:function(){return"[object TextTrack]"},addCue:function(c){if(this.cues){var b=this.cues[this.cues.length-1];b&&b.startTime>c.startTime&&g.error("cue startTime higher than previous cue's startTime")}else this.cues=m.createCueList();c.track&&g.error("cue already part of a track element");
c.track=this;this.cues.push(c)},removeCue:function(){g.error("not implemented yet")},DISABLED:"disabled",OFF:"disabled",HIDDEN:"hidden",SHOWING:"showing",ERROR:3,LOADED:2,LOADING:1,NONE:0},p=["kind","label","srclang"],v=Function.prototype.call.bind(Object.prototype.hasOwnProperty),t=function(e,b){var h=[],l=[],f=[],j,a;e||(e=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}));if(!b)e.blockTrackListUpdate=!0,b=c.prop(this,"textTracks"),e.blockTrackListUpdate=!1;clearTimeout(e.updateTrackListTimer);
c("track",this).each(function(){var a=c.prop(this,"track");f.push(a);-1==b.indexOf(a)&&l.push(a)});if(e.scriptedTextTracks)for(j=0,a=e.scriptedTextTracks.length;j<a;j++)f.push(e.scriptedTextTracks[j]),-1==b.indexOf(e.scriptedTextTracks[j])&&l.push(e.scriptedTextTracks[j]);for(j=0,a=b.length;j<a;j++)-1==f.indexOf(b[j])&&h.push(b[j]);if(h.length||l.length){b.splice(0);for(j=0,a=f.length;j<a;j++)b.push(f[j]);for(j=0,a=h.length;j<a;j++)c([b]).triggerHandler(c.Event({type:"removetrack",track:b,track:h[j]}));
for(j=0,a=l.length;j<a;j++)c([b]).triggerHandler(c.Event({type:"addtrack",track:b,track:l[j]}));(e.scriptedTextTracks||h.length)&&c(this).triggerHandler("updatetrackdisplay")}},k=function(e,b){var h,l;b||(b=g.data(e,"trackData"));if(b&&!b.isTriggering)b.isTriggering=!0,h=(b.track||{}).mode,l=(b.track||{}).kind,setTimeout(function(){if(h!==(b.track||{}).mode||l!=(b.track||{}).kind)(b.track||{}).readyState?c(e).parent().triggerHandler("updatetrackdisplay"):c(e).triggerHandler("checktrackmode");b.isTriggering=
!1},9)},z=c("<div />")[0];n.TextTrackCue=function(c,b,h){3!=arguments.length&&g.error("wrong arguments.length for TextTrackCue.constructor");this.startTime=c;this.endTime=b;this.text=h;this.id="";this.pauseOnExit=!1;q(this)};n.TextTrackCue.prototype={onenter:null,onexit:null,pauseOnExit:!1,getCueAsHTML:function(){var c="",b="",g=o.createDocumentFragment(),l;if(!v(this,"getCueAsHTML"))l=this.getCueAsHTML=function(){var f,j;if(c!=this.text){c=this.text;b=m.parseCueTextToHTML(c);z.innerHTML=b;for(f=
0,j=z.childNodes.length;f<j;f++)g.appendChild(z.childNodes[f].cloneNode(!0))}return g.cloneNode(!0)};return l?l.apply(this,arguments):g.cloneNode(!0)},track:null,id:""};m.createCueList=function(){return c.extend([],s)};m.parseCueTextToHTML=function(){var c=/(<\/?[^>]+>)/ig,b=/^(?:c|v|ruby|rt|b|i|u)/,g=/\<\s*\//,l=function(b,a,d,c){g.test(c)?b="</"+b+">":(d.splice(0,1),b="<"+b+" "+a+'="'+d.join(" ").replace(/\"/g,"&#34;")+'">');return b},f=function(c){var a=c.replace(/[<\/>]+/ig,"").split(/[\s\.]+/);
a[0]&&(a[0]=a[0].toLowerCase(),b.test(a[0])?"c"==a[0]?c=l("span","class",a,c):"v"==a[0]&&(c=l("q","title",a,c)):c="");return c};return function(b){return b.replace(c,f)}}();m.loadTextTrack=function(e,b,h,l){var f=h.track,j=function(){var a=c.prop(b,"src"),d,h;if("disabled"!=f.mode&&a&&c.attr(b,"src")&&(c(e).unbind("play playing timeupdate updatetrackdisplay",j),c(b).unbind("checktrackmode",j),!f.readyState)){d=function(){f.readyState=3;f.cues=null;f.activeCues=f.shimActiveCues=f._shimActiveCues=null;
c(b).triggerHandler("error")};f.readyState=1;try{f.cues=m.createCueList(),f.activeCues=f.shimActiveCues=f._shimActiveCues=m.createCueList(),h=c.ajax({dataType:"text",url:a,success:function(a){"text/vtt"!=h.getResponseHeader("content-type")&&g.error("set the mime-type of your WebVTT files to text/vtt. see: http://dev.w3.org/html5/webvtt/#text/vtt");m.parseCaptions(a,f,function(a){a&&"length"in a?(f.readyState=2,c(b).triggerHandler("load"),c(e).triggerHandler("updatetrackdisplay")):d()})},error:d})}catch(l){d(),
g.warn(l)}}};f.readyState=0;f.shimActiveCues=null;f._shimActiveCues=null;f.activeCues=null;f.cues=null;c(e).unbind("play playing timeupdate updatetrackdisplay",j);c(b).unbind("checktrackmode",j);c(e).bind("play playing timeupdate updatetrackdisplay",j);c(b).bind("checktrackmode",j);if(l)f.mode=x[f.kind]?"showing":"hidden",j()};m.createTextTrack=function(e,b){var h,l;if(b.nodeName&&(l=g.data(b,"trackData")))k(b,l),h=l.track;if(!h)h=q(g.objectCreate(r)),p.forEach(function(e){var g=c.prop(b,e);g&&("srclang"==
e&&(e="language"),h[e]=g)}),b.nodeName?(l=g.data(b,"trackData",{track:h}),m.loadTextTrack(e,b,l,c.prop(b,"default"))):(h.cues=m.createCueList(),h.activeCues=h._shimActiveCues=h.shimActiveCues=m.createCueList(),h.mode="hidden",h.readyState=2);return h};m.parseCaptionChunk=function(){var c=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,b=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,g=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,l=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g;
return function(f){var j,a,d,i;if(b.exec(f)||g.exec(f)||l.exec(f))return null;for(f=f.split(/\n/g);!f[0].replace(/\s+/ig,"").length&&0<f.length;)f.shift();for(f[0].match(/^\s*[a-z0-9]+\s*$/ig)&&(d=""+f.shift().replace(/\s*/ig,""));0<f.length;){if(i=c.exec(f[0]))a=i.slice(1),j=parseInt(3600*(a[0]||0),10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0)),a=parseInt(3600*(a[4]||0),10)+parseInt(60*(a[5]||0),10)+parseInt(a[6]||0,10)+parseFloat("0."+(a[7]||0));f=f.slice(0,0).concat(f.slice(1));
break}if(!j&&!a)return null;f=f.join("\n");j=new TextTrackCue(j,a,f);if(d)j.id=d;return j}}();m.parseCaptions=function(c,b,h){m.createCueList();var l,f,j,a,d;c?(j=/^WEBVTT(\s*FILE)?/ig,f=function(i,k){for(;i<k;i++){l=c[i];if(j.test(l))d=!0;else if(l.replace(/\s*/ig,"").length){if(!d){g.error("please use WebVTT format. This is the standard");h(null);break}(l=m.parseCaptionChunk(l,i))&&b.addCue(l)}if(a<(new Date).getTime()-9){i++;setTimeout(function(){a=(new Date).getTime();f(i,k)},90);break}}i>=k&&
(d||g.error("please use WebVTT format. This is the standard"),h(b.cues))},c=c.replace(/\r\n/g,"\n"),setTimeout(function(){c=c.replace(/\r/g,"\n");setTimeout(function(){a=(new Date).getTime();c=c.split(/\n\n+/g);f(0,c.length)},9)},9)):g.error("Required parameter captionData not supplied.")};m.createTrackList=function(c,b){b=b||g.data(c,"mediaelementBase")||g.data(c,"mediaelementBase",{});if(!b.textTracks)b.textTracks=[],g.defineProperties(b.textTracks,{onaddtrack:{value:null},onremovetrack:{value:null}}),
q(b.textTracks);return b.textTracks};Modernizr.track||(g.defineNodeNamesBooleanProperty(["track"],"default"),g.reflectProperties(["track"],["srclang","label"]),g.defineNodeNameProperties("track",{src:{reflect:!0,propType:"src"}}));g.defineNodeNameProperties("track",{kind:{attr:Modernizr.track?{set:function(c){var b=g.data(this,"trackData");this.setAttribute("data-kind",c);if(b)b.attrKind=c},get:function(){var c=g.data(this,"trackData");return c&&"attrKind"in c?c.attrKind:this.getAttribute("kind")}}:
{},reflect:!0,propType:"enumarated",defaultValue:"subtitles",limitedTo:["subtitles","captions","descriptions","chapters","metadata"]}});g.onNodeNamesPropertyModify("track","kind",function(){var e=g.data(this,"trackData");if(e)e.track.kind=c.prop(this,"kind"),k(this,e)});g.onNodeNamesPropertyModify("track","src",function(e){if(e){var e=g.data(this,"trackData"),b;e&&(b=c(this).closest("video, audio"),b[0]&&m.loadTextTrack(b,this,e))}});g.defineNodeNamesProperties(["track"],{ERROR:{value:3},LOADED:{value:2},
LOADING:{value:1},NONE:{value:0},readyState:{get:function(){return(c.prop(this,"track")||{readyState:0}).readyState},writeable:!1},track:{get:function(){return m.createTextTrack(c(this).closest("audio, video")[0],this)},writeable:!1}},"prop");g.defineNodeNamesProperties(["audio","video"],{textTracks:{get:function(){var c=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{}),b=m.createTrackList(this,c);c.blockTrackListUpdate||t.call(this,c,b);return b},writeable:!1},addTextTrack:{value:function(c,
b,h){c=m.createTextTrack(this,{kind:c||"",label:b||"",srclang:h||""});b=g.data(this,"mediaelementBase")||g.data(this,"mediaelementBase",{});if(!b.scriptedTextTracks)b.scriptedTextTracks=[];b.scriptedTextTracks.push(c);t.call(this);return c}}},"prop");c(o).bind("emptied ended updatetracklist",function(e){if(c(e.target).is("audio, video")){var b=g.data(e.target,"mediaelementBase");if(b)clearTimeout(b.updateTrackListTimer),b.updateTrackListTimer=setTimeout(function(){t.call(e.target,b)},0)}});g.addReady(function(e,
b){var h=b.filter("video, audio, track").closest("audio, video");c("video, audio",e).add(h).each(function(){t.call(this)}).each(function(){if(Modernizr.track){var b=this.textTracks;c.prop(this,"textTracks").length!=b.length&&g.error("textTracks couldn't be copied");c("track",this).each(function(){var b=c.prop(this,"track"),e=this.track,a,d;if(e){a=c.prop(this,"kind");d=e.readyState||this.readyState;if(e.mode||d)b.mode=e.mode;if("descriptions"!=a)e.mode="string"==typeof e.mode?"disabled":0,this.kind=
"metadata",c(this).attr({kind:a})}}).bind("load error",function(b){b.originalEvent&&b.stopImmediatePropagation()})}});h.each(function(){var b=this,c=g.data(b,"mediaelementBase");if(c)clearTimeout(c.updateTrackListTimer),c.updateTrackListTimer=setTimeout(function(){t.call(b,c)},9)})});Modernizr.track&&c("video, audio").trigger("trackapichange")});
